### è»Ÿé«”å·¥ç¨‹æœŸæœ«å ±å‘Š 11224213æ—å·§èŠ 11224216æ—å“å¦¤


# ğŸ…¿ï¸ æ ¡åœ’åœè»Šå ´ç®¡ç†ç³»çµ± Campus Parking Management System

ç›®æ¨™:æä¾›æ ¡åœ’åœè»Šä½ç®¡ç†ã€è‡ªå‹•è»Šç‰Œè¾¨è­˜ã€å­¸ç”Ÿ/æ•™è·å“¡è»Šä½æ§ç®¡èˆ‡é•è¦åµæ¸¬ï¼Œæé«˜æ ¡åœ’äº¤é€šæ•ˆç‡èˆ‡å®‰å…¨æ€§ã€‚
æ¡ç”¨å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹ã€æ”¯æ´è‡ªå‹•åœè»Šä½ç›£æ¸¬ã€é€²å‡ºç®¡æ§ã€è»Šç‰Œè¾¨è­˜ã€ç©ºä½å¼•å°èˆ‡å¾Œå°ç®¡ç†ç­‰åŠŸèƒ½ã€‚é©ç”¨æ–¼æ ¡åœ’ç’°å¢ƒä¸‹å®‰å…¨ä¸”é«˜æ•ˆçš„åœè»Šç®¡ç†ã€‚

# å°ˆæ¡ˆç‰¹è‰²

åœè»Šä½å³æ™‚ç‹€æ…‹ç›£æ¸¬

è»Šç‰Œè¾¨è­˜é€²å‡ºç´€éŒ„èˆ‡åœè»Šè¨ˆè²»

æ ¡åœ’å…§å°èˆªç©ºä½å¼•å°ç³»çµ±

å¾Œå°ç®¡ç†åœè»Šè³‡æ–™ã€æ¬Šé™èˆ‡å ±è¡¨

è¡Œå‹•è£ç½®ï¼Web UI æŸ¥è©¢èˆ‡æ“ä½œ


---
<img width="2412" height="2336" alt="NotebookLM Mind Map (1)" src="https://github.com/user-attachments/assets/81bdde5c-c795-4d1a-bd16-ba7af4cad3c8" />


# ğŸš€ ç³»çµ±åŠŸèƒ½ Features

| æ¨¡çµ„ | å…§å®¹ |
|------|------|
| è»Šä½é ç´„ç³»çµ± | é€²å ´å‰é ç´„è»Šä½ã€ä¿ç•™æ™‚é–“æ§ç®¡ |
| QR Code è¨ªå®¢é©—è­‰ | è¨ªå®¢ç·šä¸Šç”³è«‹ã€QR Gate é©—è­‰é€šè¡Œ |
| å½±åƒé•è¦è’è­‰ | åµæ¸¬ä½”ç”¨éšœç¤™è€…è»Šä½ã€è‡ªå‹•å­˜è­‰ |


| æ¨¡çµ„ | å…§å®¹ |
|------|------|
| è»Šè¼›èº«ä»½è¾¨è­˜ | ä½¿ç”¨è»Šç‰Œè¾¨è­˜ (ANPR / YOLO / EasyOCR) |
| åœè»Šä½ç®¡ç† | å³æ™‚ç›£æ§åœè»Šæ ¼æ˜¯å¦ä½”ç”¨ |
| è¨±å¯è­‰æ§ç®¡ | æ•™è·å“¡ã€å­¸ç”Ÿã€è¨ªå®¢æ¬Šé™ç®¡ç† |
| æ”¶è²»ç®¡ç† (å¯é¸) | è¨ˆæ™‚æ”¶è²»ã€éŒ¢åŒ…å„²å€¼ã€ç¹³è²»ç´€éŒ„ |
| é•è¦åµæ¸¬ | æœªæˆæ¬Šè»Šè¼›ã€åœè»Šæ ¼ä½”ç”¨è­¦ç¤º |
| æŸ¥è©¢å ±è¡¨ | è»Šä½çµ±è¨ˆã€æµé‡è¶¨å‹¢ã€äº‹ä»¶ç´€éŒ„ |

---

# ğŸ§± æ•´é«”ç³»çµ±æ¶æ§‹åœ–ï¼ˆSystem Architecture Diagramï¼‰

```mermaid
graph LR

subgraph ClientLayer[ä½¿ç”¨è€…ç«¯ / Client Layer]
    U1[æ‰‹æ©Ÿ App]
    U2[Web ä»‹é¢]
    U3[ç®¡ç†å¾Œå°ç³»çµ±]
end

subgraph APILayer[å¾Œç«¯æ‡‰ç”¨æœå‹™å±¤ / API & Service Layer]
    A1[èº«ä»½é©—è­‰æœå‹™ Auth Service]
    A2[åœè»Šç®¡ç†æœå‹™ Parking Service]
    A3[è»Šç‰Œè¾¨è­˜æœå‹™ OCR Service]
    A4[è³‡æ–™åŒæ­¥æœå‹™ Data Sync Service]
end

subgraph DomainLayer[å•†æ¥­é‚è¼¯ / Domain Layer]
    D1[è»Šè¼›é€²å‡ºé‚è¼¯ VehicleRecord]
    D2[åœè»Šæ ¼ç®¡ç† Slot Management]
    D3[è²»ç‡è¨ˆç®— Fee Policy]
end

subgraph IoTLayer[æ„Ÿæ¸¬å±¤ / IoT & Edge Layer]
    I1[åœ°ç£æ„Ÿæ¸¬å™¨]
    I2[è¶…éŸ³æ³¢æ„Ÿæ¸¬å™¨]
    I3[å½±åƒè¾¨è­˜ç›¸æ©Ÿ]
    I4[é–˜é–€æ§åˆ¶å™¨]
end

subgraph DataLayer[è³‡æ–™å±¤ / Entity & DB]
    DB1[(åœè»Šå€è³‡æ–™ ParkingSlots DB)]
    DB2[(è»Šè¼›ç´€éŒ„è³‡æ–™ VehicleRecords DB)]
    DB3[(ä½¿ç”¨è€… & æ¬Šé™ Users DB)]
end

%% Client <-> API
U1 -->|REST API / WebSocket| APILayer
U2 -->|REST API| APILayer
U3 -->|ç®¡ç†æ§åˆ¶ & å ±è¡¨| APILayer

%% API to DB
APILayer -->|CRUD| DataLayer

%% Service to Domain Logic
APILayer --> DomainLayer

%% IoT reporting
IoTLayer -->|MQTT/WebSocket| A4

%% Parking logic
A2 --> D2
A2 --> D1
A2 --> D3

%% OCR interaction
A3 --> I3

%% Gate signals
A2 --> I4

```

---



# ğŸ§© æŠ€è¡“å †ç–Š Tech Stack

| é ˜åŸŸ | æŠ€è¡“é¸é … |
|------|---------|
| å‰ç«¯ | React / Vue / Flutter Web |
| å¾Œç«¯ | Node.js / Python FastAPI / Java Spring Boot |
| AI è¾¨è­˜ | YOLOv8 + OCRï¼Œæˆ– OpenALPR |
| è³‡æ–™åº« | MySQL / PostgreSQL + Redis |
| Edge Device | NVIDIA Jetson / æ¨¹è“æ´¾ + USB Camera |
| é€šçŸ¥ | LINE Notify / Firebase |
| éƒ¨ç½² | Docker + Kubernetes / Nginx |

---

# ğŸ“Œ ä¸»è¦æµç¨‹ System Workflow

### 1ï¸âƒ£ è»Šè¼›å…¥å ´æµç¨‹

```mermaid
flowchart TD

A[è»Šè¼›æŠµé”æ ¡åœ’å…¥å£] --> B[æ”å½±æ©Ÿæ‹æ”è»Šç‰Œå½±åƒ]
B --> C[AI è»Šç‰Œè¾¨è­˜]
C -->|æˆåŠŸ| D{æ˜¯å¦æœ‰åœè»Šæ¬Šé™?}
C -->|è¾¨è­˜å¤±æ•—| B2[ç”±ç®¡ç†å“¡äººå·¥ç¢ºèª] --> D

D -->|å¦| Z[æ‹’çµ•é€šè¡Œ / é€šçŸ¥è­¦è¡›] --> END

D -->|æ˜¯| E[ç³»çµ±æŸ¥è©¢ç©ºä½]
E --> F{æ˜¯å¦æœ‰ç©ºä½?}

F -->|å¦| G[é¡¯ç¤ºåœè»Šå ´å·²æ»¿ / å¼•å°è‡³å…¶ä»–å ´å€] --> END

F -->|æ˜¯| H[é–˜é–€é–‹å•Ÿ å…è¨±é€²å…¥]
H --> I[é€²å ´è³‡æ–™ç™»è¨˜: è»Šç‰Œ/æ™‚é–“/å€åŸŸ]
I --> J[è»Šè¼›åœæ”¾è‡³æŒ‡å®šå€åŸŸ]
J --> K[æ„Ÿæ¸¬å™¨å›å ±åœè»Šæ ¼ä½”ç”¨ç‹€æ…‹ æ›´æ–°è³‡æ–™åº«]
K --> L[App/Web é¡¯ç¤ºå³æ™‚ç©ºä½æ›´æ–°]

L --> M[è»Šè¼›æ¬²é›¢å ´]
M --> N[å‡ºå ´å½±åƒæ‹æ” & è»Šç‰Œæ¯”å°]
N --> O[è¨ˆç®—åœè»Šè²»ç”¨èˆ‡åœè»Šæ™‚æ•¸]
O --> P{æ˜¯å¦è‡ªå‹•æ‰£æ¬¾æˆåŠŸ?}

P -->|å¦| Q[äººå·¥ç¹³è²» / åˆ·å¡ç¹³è²»]
Q --> R[é–˜é–€é–‹å•Ÿ]
P -->|æ˜¯| R[é–˜é–€é–‹å•Ÿ]

R --> S[å‡ºå ´è³‡æ–™ç™»è¨˜: é›¢å ´æ™‚é–“]
S --> T[ç³»çµ±æ›´æ–°è»Šä½ç‚ºç©ºä½]
T --> END[çµæŸæµç¨‹]

```

### 2ï¸âƒ£ è»Šä½ä½”ç”¨åµæ¸¬

* Ultrasonic Sensor / Camera AI
* åµæ¸¬ç•°å¸¸å³å›å ±å¾Œå°

### 3ï¸âƒ£ é•è¦è™•ç†æµç¨‹

* æœªè¨»å†Šè»Šç‰Œ â†’ è‡ªå‹•è¨˜éŒ„ä¸¦é€šçŸ¥ç®¡ç†å“¡
* é‡è¤‡å ä½æˆ–è¶…æ™‚ â†’ ç³»çµ±è­¦å‘Š

---


## ğŸ“‚ è³‡æ–™åº« ER Model 

```mermaid
erDiagram
    USER ||--o{ VEHICLE : "æ“æœ‰"
    VEHICLE ||--o{ PARKING_LOG : "é€²å‡ºç´€éŒ„"
    PARKING_SLOT ||--o{ PARKING_LOG : "ä½¿ç”¨"
    VEHICLE ||--o{ VIOLATION : "é•è¦ç´€éŒ„"

    USER {
        string user_id PK
        string name
        enum role "æ•™è·å“¡/å­¸ç”Ÿ/è¨ªå®¢"
    }

    VEHICLE {
        string plate PK
        string user_id FK
        boolean is_disabled "æ˜¯å¦èº«éšœè»Š"
    }

    PARKING_SLOT {
        int slot_id PK
        enum type "ä¸€èˆ¬/èº«éšœ/é›»å‹•"
        enum status "ç©ºä½/ä½”ç”¨/é ç´„"
    }

    PARKING_LOG {
        int log_id PK
        string plate FK
        int slot_id FK
        datetime in_time
        datetime out_time
        decimal fee "åœè»Šè²»ç”¨"
    }

    VIOLATION {
        int violation_id PK
        string plate FK
        string photo_url "é•è¦è­‰æ“šåœ–"
        string reason "å¦‚ï¼šä½”ç”¨èº«éšœä½"
    }

```


## ğŸ“¦ åŠŸèƒ½æ¨¡çµ„åˆ†å·¥ (é–‹ç™¼ä»»å‹™)

| æ¨¡çµ„ | å·¥ä½œé …ç›® |
|------|---------|
| AIè»Šç‰Œè¾¨è­˜ | å½±åƒè™•ç†ã€æ¨¡å‹è¨“ç·´/APIåŒ– |
| å¾Œç«¯ API | è»Šç‰Œé©—è­‰ã€ç‹€æ…‹ç®¡ç† CRUD |
| æ§åˆ¶è£ç½® | é–˜é–€ã€LEDã€å£“åŠ›æ„Ÿæ¸¬æ§åˆ¶ |
| å‰ç«¯ | è»Šä½åœ°åœ–ã€æ¬Šé™è¨­å®šã€é•è¦æŸ¥è©¢ |
| è³‡å®‰ | æ¬Šé™éš”é›¢ã€RBACã€HTTPSã€Log |

---

## ğŸ”’ æ¬Šé™èˆ‡è§’è‰²è¨­è¨ˆ

| è§’è‰² | æ¬Šé™ |
|------|------|
| Admin | å…¨éƒ¨ç®¡ç†ã€å ±è¡¨åˆ†æ |
| Staff | è»Šä½ç®¡ç†ã€é•è¦é–‹å–® |
| Student | æŸ¥è©¢è»Šä½ã€æŸ¥çœ‹è‡ªå·±ç´€éŒ„ |
| Visitor | ç”³è«‹é€²å‡º |

---

### ğŸ›œ è»Šä½é ç´„ç³»çµ±

* æä¾›å­¸ç”Ÿèˆ‡æ•™è·å“¡æå‰é ç´„è»Šä½
* app / web å³æ™‚é¡¯ç¤ºå‰©é¤˜è»Šä½
* å¯è¨­å®šä¿ç•™æ™‚é–“ï¼Œè‹¥è¶…æ™‚æœªå…¥å ´å‰‡å–æ¶ˆ
* æ”¯æ´è‡¨åœèˆ‡é•·æœŸé…é¡è»Šä½
* æµç¨‹ï¼šé¸è»Šä½ â†’ è¨­å®šæ™‚é–“ â†’ QR å…¥å ´é©—è­‰

```mermaid
sequenceDiagram
User ->> Web/App: é¸æ“‡æ—¥æœŸèˆ‡åœè»Šä½
Web/App ->> Backend: å»ºç«‹é ç´„
Backend ->> DB: ç´€éŒ„é ç´„è³‡è¨Š
Car ->> Gate: æŠµé”æ ¡åœ’
Gate ->> Backend: é©—è­‰é ç´„
Backend -->> Gate: æ”¾è¡Œ / é§å›
```

---

### ğŸ« QR Code è¨ªå®¢é©—è­‰

* è¨ªå®¢å¯ç·šä¸Šç”³è«‹åœè»Šé€šè¡Œè­‰
* ç®¡ç†å“¡å¯©æ ¸å¾Œç°½ç™¼ QR Code
* å…¥å ´æ™‚æƒæ QR è‡ªå‹•è¾¨è­˜
* è»Šç‰Œä¸åœ¨ç³»çµ±ä¹Ÿèƒ½é€šè¡Œ

è³‡æ–™è¡¨æ–°å¢ï¼šVisitorPass

| æ¬„ä½        | èªªæ˜                        |
| --------- | ------------------------- |
| passID    | è¨ªå®¢æ†‘è­‰ ID PK                |
| name      | è¨ªå®¢å§“å                      |
| plate     | è»Šç‰Œæˆ–æš«ç„¡                     |
| validTime | æœ‰æ•ˆæ™‚é–“                      |
| QRToken   | ä¸€æ¬¡æ€§ QR äº‚ç¢¼                 |
| status    | pending / approved / used |

---

### ğŸ” å½±åƒé•è¦è’è­‰ (ä½”ç”¨èº«éšœè»Šä½)

* AI åµæ¸¬ç‰¹å®šæ¨™ç·šèˆ‡æ¨™èªŒ
* è»Šè¼›åœå…¥å¾Œæ¯”å°è»Šä¸»èº«ä»½æ˜¯å¦ç¬¦åˆè³‡æ ¼
* é•è¦è‡ªå‹•æˆªåœ–ã€ä¸Šå‚³è­‰æ“šä¸¦é€šçŸ¥ç®¡ç†å“¡

é•è¦åˆ¤æ–·é‚è¼¯ï¼š
1ï¸âƒ£ å½±åƒè¾¨è­˜ç¢ºèªåœè»Šæ ¼å±¬æ€§ï¼ˆèº«éšœ / é›»å‹• / æ•™è·å“¡å°ˆç”¨ï¼‰
2ï¸âƒ£ è¾¨è­˜è»Šç‰Œ â†’ æŸ¥æ¬Šé™
3ï¸âƒ£ è‹¥ä¸ç¬¦è³‡æ ¼ â†’ è¨˜éŒ„é•è¦
4ï¸âƒ£ ç®¡ç†å“¡å¯©æŸ¥å¾ŒåŒ¯å‡º PDF å ±å‘Šï¼ˆå«é•è¦è­‰æ“šï¼‰

```mermaid
flowchart TD
    Cam[åœè»Šä½æ”å½±æ©Ÿ] --> AI[AI å€åŸŸåˆ¤æ–·]
    AI --> Check{æ˜¯å¦å…·åœè»Šè³‡æ ¼?}
    Check -- å¦ --> Log[æˆªåœ–ã€ç´€éŒ„é•è¦]
    Log --> Notify[é€šçŸ¥ç®¡ç†å“¡]
    Check -- æ˜¯ --> OK[åˆæ³•åœè»Š]
```

---



### ğŸ”¹ QR è¨ªå®¢é©—è­‰å¯©æ ¸æµç¨‹

```mermaid
flowchart TD
    A[è¨ªå®¢æäº¤ç”³è«‹] --> B[ç®¡ç†å¾Œå°å¯©æ ¸]
    B -->|æ ¸å‡†| C[ç”¢ç”Ÿ QR Code]
    B -->|é§å›| D[é€šçŸ¥è¨ªå®¢å¤±æ•ˆ]

    C --> E[è¨ªå®¢æŠµé”æ ¡é–€]
    E --> F[QR æƒæ]
    F --> G{æ˜¯å¦æœ‰æ•ˆ?}
    G -->|æ˜¯| H[é–‹é–˜é€šè¡Œ]
    G -->|å¦| I[æ‹’çµ•é€²å…¥ä¸¦é€šçŸ¥ç®¡ç†å“¡]
```

---

### ğŸ”¹ é•è¦è’è­‰å¯©æŸ¥æµç¨‹ï¼ˆç®¡ç†ç«¯è¦–è§’ï¼‰

```mermaid
flowchart LR
    Cam[AI åµæ¸¬é•è¦] --> Log[å­˜è­‰ç…§ç‰‡ + è»Šç‰Œ]
    Log --> Notify[é€šçŸ¥ç®¡ç†å“¡å¯©æŸ¥]
    Notify --> Check{æ˜¯å¦æˆç«‹é•è¦?}
    Check -->|æ˜¯| Report[è¼¸å‡ºé•è¦å ±å‘Š]
    Check -->|å¦| Close[æ¡ˆä»¶çµæ¡ˆ]
```

---

### ğŸ§± ç³»çµ±éƒ¨ç½²æ¶æ§‹åœ–ï¼ˆå« IoT èˆ‡é›²ç«¯ï¼‰

```mermaid
flowchart TB
    CamAI[AI åµæ¸¬æ”å½±æ©Ÿ/é‚Šç·£é‹ç®—] -->|è¾¨è­˜çµæœ| APIServer[Backend API Server]
    Sensor[å£“åŠ›/è¶…éŸ³æ³¢æ„Ÿæ¸¬å™¨] --> APIServer
    App[æ‰‹æ©Ÿ App / Web] <-->|REST/HTTPS| APIServer
    Admin[ç®¡ç†å¾Œå°] <-->|RBAC| APIServer
    APIServer --> DB[(SQL/Redis)]
    APIServer --> Notify[LINE / Email é€šçŸ¥]
    APIServer --> Gate[é–˜é–€æ§åˆ¶è£ç½®]
```

# ğŸ§© æ‡‰ç”¨æŠ€è¡“ / Tech Stack
| é ˜åŸŸ / Area                              | æŠ€è¡“ / Technology                             | èªªæ˜ / Description                                             |
| -------------------------------------- | ------------------------------------------- | ------------------------------------------------------------ |
| å‰ç«¯ / Frontend                          | React / Vue / Flutter Web                   | ç”¨æ–¼æ‰‹æ©Ÿèˆ‡ Web ç•Œé¢é–‹ç™¼ / Mobile & Web interface development          |
| å¾Œç«¯ / Backend                           | Node.js / Python FastAPI / Java Spring Boot | API èˆ‡æ¥­å‹™é‚è¼¯ / API & Business logic                             |
| AI è»Šç‰Œè¾¨è­˜ / AI License Plate Recognition | YOLOv8 + EasyOCR / OpenALPR                 | å³æ™‚è»Šç‰Œè¾¨è­˜æ¨¡å‹ / Real-time license plate recognition models        |
| è³‡æ–™åº« / Database                         | MySQL / PostgreSQL + Redis                  | å­˜æ”¾è»Šä½ã€è»Šè¼›ã€ä½¿ç”¨è€…è³‡æ–™ / Stores parking slots, vehicle, and user data |
| é‚Šç·£é‹ç®— / Edge Device                     | NVIDIA Jetson / æ¨¹è“æ´¾ + USB Camera            | ç”¨æ–¼æ”å½±æ©Ÿå½±åƒåˆ†æ / For camera image processing                      |
| é€šçŸ¥ / Notification                      | LINE Notify / Firebase Cloud Messaging      | äº‹ä»¶é€šçŸ¥ã€è­¦ç¤º / Event notifications & alerts                       |
| éƒ¨ç½² / Deployment                        | Docker + Kubernetes / Nginx                 | å®¹å™¨åŒ–éƒ¨ç½²èˆ‡è² è¼‰ç®¡ç† / Containerized deployment & load management      |
| æ„Ÿæ¸¬å™¨ / IoT Sensors                      | åœ°ç£ / è¶…éŸ³æ³¢ / é–˜é–€æ§åˆ¶å™¨                            | åµæ¸¬åœè»Šä½èˆ‡é–˜é–€é–‹é—œ / Detect parking slot occupancy & gate control    |


---

# ğŸ“ å°ˆæ¡ˆç›®éŒ„
```bash
CampusParking/
â”œâ”€ src/
â”‚  â”œâ”€ Parking.Web/              # å‰ç«¯ UI (Vue æˆ– React)
â”‚  â”‚  â””â”€ åŒ…å«ï¼šè»Šä½åœ°åœ–ã€ä½¿ç”¨è€…é ç´„ä»‹é¢ã€ç®¡ç†å¾Œå°
â”‚  â”‚
â”‚  â”œâ”€ Parking.Server/           # å¾Œç«¯ API ä¸»ç¨‹å¼ (Node.js / Python / C#)
â”‚  â”‚  â”œâ”€ Controllers/           # æ¥æ”¶è«‹æ±‚ (å¦‚ï¼šé€²å ´ã€å‡ºå ´ã€æŸ¥è©¢)
â”‚  â”‚  â”œâ”€ Services/              # æ¥­å‹™é‚è¼¯ (å¦‚ï¼šè¨ˆè²»å…¬å¼ã€é•è¦è‡ªå‹•åˆ¤å®š)
â”‚  â”‚  â””â”€ Models/                # è³‡æ–™åº«å°æ‡‰ç‰©ä»¶ (Entity)
â”‚  â”‚
â”‚  â”œâ”€ Parking.AI/               # AI è¾¨è­˜æ¨¡çµ„
â”‚  â”‚  â””â”€ åŒ…å«ï¼šè»Šç‰Œè¾¨è­˜ (OCR)ã€é•è¦æˆªåœ–è‡ªå‹•ä¸Šå‚³åŠŸèƒ½
â”‚  â”‚
â”‚  â””â”€ Parking.Infrastructure/   # åŸºç¤è¨­æ–½
â”‚     â””â”€ åŒ…å«ï¼šè³‡æ–™åº«é€£æ¥ã€LINE/Email é€šçŸ¥ç™¼é€
â”‚
â””â”€ docs/                        
```

