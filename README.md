## è»Ÿé«”å·¥ç¨‹æœŸæœ«å ±å‘Š 11224213æ—å·§èŠ 11224216æ—å“å¦¤


# ğŸ…¿ï¸ æ ¡åœ’åœè»Šå ´ç®¡ç†ç³»çµ± Campus Parking Management System

ç›®æ¨™:æä¾›æ ¡åœ’åœè»Šä½ç®¡ç†ã€è‡ªå‹•è»Šç‰Œè¾¨è­˜ã€å­¸ç”Ÿ/æ•™è·å“¡è»Šä½æ§ç®¡èˆ‡é•è¦åµæ¸¬ï¼Œæé«˜æ ¡åœ’äº¤é€šæ•ˆç‡èˆ‡å®‰å…¨æ€§ã€‚
æ¡ç”¨å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹ã€æ”¯æ´è‡ªå‹•åœè»Šä½ç›£æ¸¬ã€é€²å‡ºç®¡æ§ã€è»Šç‰Œè¾¨è­˜ã€ç©ºä½å¼•å°èˆ‡å¾Œå°ç®¡ç†ç­‰åŠŸèƒ½ã€‚é©ç”¨æ–¼æ ¡åœ’ç’°å¢ƒä¸‹å®‰å…¨ä¸”é«˜æ•ˆçš„åœè»Šç®¡ç†ã€‚

# å°ˆæ¡ˆç‰¹è‰²

åœè»Šä½å³æ™‚ç‹€æ…‹ç›£æ¸¬

è»Šç‰Œè¾¨è­˜é€²å‡ºç´€éŒ„èˆ‡åœè»Šè¨ˆè²»

æ ¡åœ’å…§å°èˆªç©ºä½å¼•å°ç³»çµ±

å¾Œå°ç®¡ç†åœè»Šè³‡æ–™ã€æ¬Šé™èˆ‡å ±è¡¨

è¡Œå‹•è£ç½®ï¼Web UI æŸ¥è©¢èˆ‡æ“ä½œ


---
<img width="2533" height="3937" alt="NotebookLM Mind Map" src="https://github.com/user-attachments/assets/4c490c44-a182-45e2-8067-e1a3c3ffb784" />




## ğŸš€ ç³»çµ±åŠŸèƒ½ Features

| æ¨¡çµ„ | å…§å®¹ |
|------|------|
| è»Šä½é ç´„ç³»çµ± | é€²å ´å‰é ç´„è»Šä½ã€ä¿ç•™æ™‚é–“æ§ç®¡ |
| QR Code è¨ªå®¢é©—è­‰ | è¨ªå®¢ç·šä¸Šç”³è«‹ã€QR Gate é©—è­‰é€šè¡Œ |
| å½±åƒé•è¦è’è­‰ | åµæ¸¬ä½”ç”¨éšœç¤™è€…è»Šä½ã€è‡ªå‹•å­˜è­‰ |


| æ¨¡çµ„ | å…§å®¹ |
|------|------|
| è»Šè¼›èº«ä»½è¾¨è­˜ | ä½¿ç”¨è»Šç‰Œè¾¨è­˜ (ANPR / YOLO / EasyOCR) |
| åœè»Šä½ç®¡ç† | å³æ™‚ç›£æ§åœè»Šæ ¼æ˜¯å¦ä½”ç”¨ |
| è¨±å¯è­‰æ§ç®¡ | æ•™è·å“¡ã€å­¸ç”Ÿã€è¨ªå®¢æ¬Šé™ç®¡ç† |
| æ”¶è²»ç®¡ç† (å¯é¸) | è¨ˆæ™‚æ”¶è²»ã€éŒ¢åŒ…å„²å€¼ã€ç¹³è²»ç´€éŒ„ |
| é•è¦åµæ¸¬ | æœªæˆæ¬Šè»Šè¼›ã€åœè»Šæ ¼ä½”ç”¨è­¦ç¤º |
| æŸ¥è©¢å ±è¡¨ | è»Šä½çµ±è¨ˆã€æµé‡è¶¨å‹¢ã€äº‹ä»¶ç´€éŒ„ |

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹ System Architecture

```mermaid
flowchart LR
    A[è»Šç‰Œè¾¨è­˜æ”å½±æ©Ÿ] --> B[é‚Šç·£é‹ç®— YOLO/ANPR]
    B --> C[å¾Œç«¯ API Server]
    C --> D[(è³‡æ–™åº«)]
    C <---> E[Web ç®¡ç†å¾Œå°]
    C <---> F[è¡Œå‹• App / Webapp]
    C --> G[é€šçŸ¥ç³»çµ± LINE/Email]
```

---

## ğŸ§© æŠ€è¡“å †ç–Š Tech Stack

| é ˜åŸŸ | æŠ€è¡“é¸é … |
|------|---------|
| å‰ç«¯ | React / Vue / Flutter Web |
| å¾Œç«¯ | Node.js / Python FastAPI / Java Spring Boot |
| AI è¾¨è­˜ | YOLOv8 + OCRï¼Œæˆ– OpenALPR |
| è³‡æ–™åº« | MySQL / PostgreSQL + Redis |
| Edge Device | NVIDIA Jetson / æ¨¹è“æ´¾ + USB Camera |
| é€šçŸ¥ | LINE Notify / Firebase |
| éƒ¨ç½² | Docker + Kubernetes / Nginx |

---

## ğŸ“Œ ä¸»è¦æµç¨‹ System Workflow
### 1ï¸âƒ£ è»Šè¼›å…¥å ´æµç¨‹

```mermaid
flowchart TD

A[è»Šè¼›æŠµé”æ ¡åœ’å…¥å£] --> B[æ”å½±æ©Ÿæ‹æ”è»Šç‰Œå½±åƒ]
B --> C[AI è»Šç‰Œè¾¨è­˜]
C -->|æˆåŠŸ| D{æ˜¯å¦æœ‰åœè»Šæ¬Šé™?}
C -->|è¾¨è­˜å¤±æ•—| B2[ç”±ç®¡ç†å“¡äººå·¥ç¢ºèª] --> D

D -->|å¦| Z[æ‹’çµ•é€šè¡Œ / é€šçŸ¥è­¦è¡›] --> END

D -->|æ˜¯| E[ç³»çµ±æŸ¥è©¢ç©ºä½]
E --> F{æ˜¯å¦æœ‰ç©ºä½?}

F -->|å¦| G[é¡¯ç¤ºåœè»Šå ´å·²æ»¿ / å¼•å°è‡³å…¶ä»–å ´å€] --> END

F -->|æ˜¯| H[é–˜é–€é–‹å•Ÿ å…è¨±é€²å…¥]
H --> I[é€²å ´è³‡æ–™ç™»è¨˜: è»Šç‰Œ/æ™‚é–“/å€åŸŸ]
I --> J[è»Šè¼›åœæ”¾è‡³æŒ‡å®šå€åŸŸ]
J --> K[æ„Ÿæ¸¬å™¨å›å ±åœè»Šæ ¼ä½”ç”¨ç‹€æ…‹ æ›´æ–°è³‡æ–™åº«]
K --> L[App/Web é¡¯ç¤ºå³æ™‚ç©ºä½æ›´æ–°]

L --> M[è»Šè¼›æ¬²é›¢å ´]
M --> N[å‡ºå ´å½±åƒæ‹æ” & è»Šç‰Œæ¯”å°]
N --> O[è¨ˆç®—åœè»Šè²»ç”¨èˆ‡åœè»Šæ™‚æ•¸]
O --> P{æ˜¯å¦è‡ªå‹•æ‰£æ¬¾æˆåŠŸ?}

P -->|å¦| Q[äººå·¥ç¹³è²» / åˆ·å¡ç¹³è²»]
Q --> R[é–˜é–€é–‹å•Ÿ]
P -->|æ˜¯| R[é–˜é–€é–‹å•Ÿ]

R --> S[å‡ºå ´è³‡æ–™ç™»è¨˜: é›¢å ´æ™‚é–“]
S --> T[ç³»çµ±æ›´æ–°è»Šä½ç‚ºç©ºä½]
T --> END[çµæŸæµç¨‹]

```

### 2ï¸âƒ£ è»Šä½ä½”ç”¨åµæ¸¬

* Ultrasonic Sensor / Camera AI
* åµæ¸¬ç•°å¸¸å³å›å ±å¾Œå°

### 3ï¸âƒ£ é•è¦è™•ç†æµç¨‹

* æœªè¨»å†Šè»Šç‰Œ â†’ è‡ªå‹•è¨˜éŒ„ä¸¦é€šçŸ¥ç®¡ç†å“¡
* é‡è¤‡å ä½æˆ–è¶…æ™‚ â†’ ç³»çµ±è­¦å‘Š

---

## ğŸ“‚ è³‡æ–™åº« ER Model (ç°¡åŒ–ç‰ˆ)

```mermaid
graph LR

subgraph ClientLayer[ä½¿ç”¨è€…ç«¯ / Client Layer]
    U1[æ‰‹æ©Ÿ App]
    U2[Web ä»‹é¢]
    U3[ç®¡ç†å¾Œå°ç³»çµ±]
end

subgraph APILayer[å¾Œç«¯æ‡‰ç”¨æœå‹™å±¤ / API & Service Layer]
    A1[èº«ä»½é©—è­‰æœå‹™ Auth Service]
    A2[åœè»Šç®¡ç†æœå‹™ Parking Service]
    A3[è»Šç‰Œè¾¨è­˜æœå‹™ OCR Service]
    A4[è³‡æ–™åŒæ­¥æœå‹™ Data Sync Service]
end

subgraph DomainLayer[å•†æ¥­é‚è¼¯ / Domain Layer]
    D1[è»Šè¼›é€²å‡ºé‚è¼¯ VehicleRecord]
    D2[åœè»Šæ ¼ç®¡ç† Slot Management]
    D3[è²»ç‡è¨ˆç®— Fee Policy]
end

subgraph IoTLayer[æ„Ÿæ¸¬å±¤ / IoT & Edge Layer]
    I1[åœ°ç£æ„Ÿæ¸¬å™¨]
    I2[è¶…éŸ³æ³¢æ„Ÿæ¸¬å™¨]
    I3[å½±åƒè¾¨è­˜ç›¸æ©Ÿ]
    I4[é–˜é–€æ§åˆ¶å™¨]
end

subgraph DataLayer[è³‡æ–™å±¤ / Entity & DB]
    DB1[(åœè»Šå€è³‡æ–™ ParkingSlots DB)]
    DB2[(è»Šè¼›ç´€éŒ„è³‡æ–™ VehicleRecords DB)]
    DB3[(ä½¿ç”¨è€… & æ¬Šé™ Users DB)]
end

%% Client <-> API
U1 -->|REST API / WebSocket| APILayer
U2 -->|REST API| APILayer
U3 -->|ç®¡ç†æ§åˆ¶ & å ±è¡¨| APILayer

%% API to DB
APILayer -->|CRUD| DataLayer

%% Service to Domain Logic
APILayer --> DomainLayer

%% IoT reporting
IoTLayer -->|MQTT/WebSocket| A4

%% Parking logic
A2 --> D2
A2 --> D1
A2 --> D3

%% OCR interaction
A3 --> I3

%% Gate signals
A2 --> I4

```

---


## ğŸ“¦ åŠŸèƒ½æ¨¡çµ„åˆ†å·¥ (é–‹ç™¼ä»»å‹™)

| æ¨¡çµ„ | å·¥ä½œé …ç›® |
|------|---------|
| AIè»Šç‰Œè¾¨è­˜ | å½±åƒè™•ç†ã€æ¨¡å‹è¨“ç·´/APIåŒ– |
| å¾Œç«¯ API | è»Šç‰Œé©—è­‰ã€ç‹€æ…‹ç®¡ç† CRUD |
| æ§åˆ¶è£ç½® | é–˜é–€ã€LEDã€å£“åŠ›æ„Ÿæ¸¬æ§åˆ¶ |
| å‰ç«¯ | è»Šä½åœ°åœ–ã€æ¬Šé™è¨­å®šã€é•è¦æŸ¥è©¢ |
| è³‡å®‰ | æ¬Šé™éš”é›¢ã€RBACã€HTTPSã€Log |

---

## ğŸ”’ æ¬Šé™èˆ‡è§’è‰²è¨­è¨ˆ

| è§’è‰² | æ¬Šé™ |
|------|------|
| Admin | å…¨éƒ¨ç®¡ç†ã€å ±è¡¨åˆ†æ |
| Staff | è»Šä½ç®¡ç†ã€é•è¦é–‹å–® |
| Student | æŸ¥è©¢è»Šä½ã€æŸ¥çœ‹è‡ªå·±ç´€éŒ„ |
| Visitor | ç”³è«‹é€²å‡º |

---

## ğŸ§ª æ¸¬è©¦èˆ‡é©—æ”¶
- å–®å…ƒæ¸¬è©¦ï¼šAPIã€AI æ¨¡å‹æº–ç¢ºç‡
- ç³»çµ±æ¸¬è©¦ï¼šå…¥é€€å ´æµç¨‹ã€è»Šä½åŒæ­¥
- æ•ˆèƒ½æ¸¬è©¦ï¼šé«˜å³°æœŸå£“åŠ›æ¸¬è©¦
- UATï¼šå¯¦éš›æ ¡åœ’æ¸¬è©¦ï¼Œä½¿ç”¨è€…å›é¥‹

---

## ğŸ“Œ æœªä¾†æ“´å……
- ğŸ›œ è»Šä½é ç´„ç³»çµ±  
- ğŸ”‹ é›»å‹•è»Šå……é›»ä½ç®¡ç†  
- ğŸ« QR Code è¨ªå®¢é©—è­‰  
- ğŸ” å½±åƒé•è¦è’è­‰ (ä½”ç”¨èº«éšœè»Šä½ç­‰)

---

## ğŸ“ å°ˆæ¡ˆç›®éŒ„å»ºè­°
```bash
CampusParkingSystem/
â”œâ”€ backend/
â”œâ”€ frontend/
â”œâ”€ ai-recognition/
â”œâ”€ docs/
â””â”€ infra/
```












### 1ï¸âƒ£ è»Šè¼›å…¥å ´æµç¨‹

```mermaid
flowchart TD

A[è»Šè¼›æŠµé”æ ¡åœ’å…¥å£] --> B[æ”å½±æ©Ÿæ‹æ”è»Šç‰Œå½±åƒ]
B --> C[AI è»Šç‰Œè¾¨è­˜]
C -->|æˆåŠŸ| D{æ˜¯å¦æœ‰åœè»Šæ¬Šé™?}
C -->|è¾¨è­˜å¤±æ•—| B2[ç”±ç®¡ç†å“¡äººå·¥ç¢ºèª] --> D

D -->|å¦| Z[æ‹’çµ•é€šè¡Œ / é€šçŸ¥è­¦è¡›] --> END

D -->|æ˜¯| E[ç³»çµ±æŸ¥è©¢ç©ºä½]
E --> F{æ˜¯å¦æœ‰ç©ºä½?}

F -->|å¦| G[é¡¯ç¤ºåœè»Šå ´å·²æ»¿ / å¼•å°è‡³å…¶ä»–å ´å€] --> END

F -->|æ˜¯| H[é–˜é–€é–‹å•Ÿ å…è¨±é€²å…¥]
H --> I[é€²å ´è³‡æ–™ç™»è¨˜: è»Šç‰Œ/æ™‚é–“/å€åŸŸ]
I --> J[è»Šè¼›åœæ”¾è‡³æŒ‡å®šå€åŸŸ]
J --> K[æ„Ÿæ¸¬å™¨å›å ±åœè»Šæ ¼ä½”ç”¨ç‹€æ…‹ æ›´æ–°è³‡æ–™åº«]
K --> L[App/Web é¡¯ç¤ºå³æ™‚ç©ºä½æ›´æ–°]

L --> M[è»Šè¼›æ¬²é›¢å ´]
M --> N[å‡ºå ´å½±åƒæ‹æ” & è»Šç‰Œæ¯”å°]
N --> O[è¨ˆç®—åœè»Šè²»ç”¨èˆ‡åœè»Šæ™‚æ•¸]
O --> P{æ˜¯å¦è‡ªå‹•æ‰£æ¬¾æˆåŠŸ?}

P -->|å¦| Q[äººå·¥ç¹³è²» / åˆ·å¡ç¹³è²»]
Q --> R[é–˜é–€é–‹å•Ÿ]
P -->|æ˜¯| R[é–˜é–€é–‹å•Ÿ]

R --> S[å‡ºå ´è³‡æ–™ç™»è¨˜: é›¢å ´æ™‚é–“]
S --> T[ç³»çµ±æ›´æ–°è»Šä½ç‚ºç©ºä½]
T --> END[çµæŸæµç¨‹]

```

### 2ï¸âƒ£ è»Šä½ä½”ç”¨åµæ¸¬

* Ultrasonic Sensor / Camera AI
* åµæ¸¬ç•°å¸¸å³å›å ±å¾Œå°

### 3ï¸âƒ£ é•è¦è™•ç†æµç¨‹

* æœªè¨»å†Šè»Šç‰Œ â†’ è‡ªå‹•è¨˜éŒ„ä¸¦é€šçŸ¥ç®¡ç†å“¡
* é‡è¤‡å ä½æˆ–è¶…æ™‚ â†’ ç³»çµ±è­¦å‘Š

---

## ğŸ“‚ è³‡æ–™åº« ER Model (ç°¡åŒ–ç‰ˆ)

```mermaid
graph LR

subgraph ClientLayer[ä½¿ç”¨è€…ç«¯ / Client Layer]
    U1[æ‰‹æ©Ÿ App]
    U2[Web ä»‹é¢]
    U3[ç®¡ç†å¾Œå°ç³»çµ±]
end

subgraph APILayer[å¾Œç«¯æ‡‰ç”¨æœå‹™å±¤ / API & Service Layer]
    A1[èº«ä»½é©—è­‰æœå‹™ Auth Service]
    A2[åœè»Šç®¡ç†æœå‹™ Parking Service]
    A3[è»Šç‰Œè¾¨è­˜æœå‹™ OCR Service]
    A4[è³‡æ–™åŒæ­¥æœå‹™ Data Sync Service]
end

subgraph DomainLayer[å•†æ¥­é‚è¼¯ / Domain Layer]
    D1[è»Šè¼›é€²å‡ºé‚è¼¯ VehicleRecord]
    D2[åœè»Šæ ¼ç®¡ç† Slot Management]
    D3[è²»ç‡è¨ˆç®— Fee Policy]
end

subgraph IoTLayer[æ„Ÿæ¸¬å±¤ / IoT & Edge Layer]
    I1[åœ°ç£æ„Ÿæ¸¬å™¨]
    I2[è¶…éŸ³æ³¢æ„Ÿæ¸¬å™¨]
    I3[å½±åƒè¾¨è­˜ç›¸æ©Ÿ]
    I4[é–˜é–€æ§åˆ¶å™¨]
end

subgraph DataLayer[è³‡æ–™å±¤ / Entity & DB]
    DB1[(åœè»Šå€è³‡æ–™ ParkingSlots DB)]
    DB2[(è»Šè¼›ç´€éŒ„è³‡æ–™ VehicleRecords DB)]
    DB3[(ä½¿ç”¨è€… & æ¬Šé™ Users DB)]
end

%% Client <-> API
U1 -->|REST API / WebSocket| APILayer
U2 -->|REST API| APILayer
U3 -->|ç®¡ç†æ§åˆ¶ & å ±è¡¨| APILayer

%% API to DB
APILayer -->|CRUD| DataLayer

%% Service to Domain Logic
APILayer --> DomainLayer

%% IoT reporting
IoTLayer -->|MQTT/WebSocket| A4

%% Parking logic
A2 --> D2
A2 --> D1
A2 --> D3

%% OCR interaction
A3 --> I3

%% Gate signals
A2 --> I4

```

---

## ğŸ“Œ é€²éšåŠŸèƒ½è©³ç´°èªªæ˜

---

## ğŸ” ç³»çµ±æ•´é«”æµç¨‹åœ–

```mermaid
flowchart TD
    Start([é€²å…¥åœè»Šå ´æœå‹™]) --> Choice{ç”¨æˆ¶èº«ä»½}
    Choice --> Student[å­¸ç”Ÿ / æ•™è·å“¡è¨»å†Šè»Šç‰Œ]
    Choice --> Visitor[è¨ªå®¢ç·šä¸Šç”³è«‹]

    Student --> Reserve[é ç´„è»Šä½]
    Visitor --> ApplyQR[ç”³è«‹ QR é€šè¡Œ]

    Reserve --> Arrive[æŠµé”æ ¡åœ’]
    ApplyQR --> Arrive

    Arrive --> GateScan[è»Šç‰Œ / QR æƒæ]
    GateScan --> Check[è³‡æ ¼æ¯”å°]

    Check -->|åˆæ³•| Enter[é–‹é–˜é€²å ´]
    Check -->|ä¸åˆæ³•| Alert[é•è¦è­¦ç¤º/è’è­‰]

    Enter --> ParkStatus[è»Šä½ç‹€æ…‹æ›´æ–°]
    ParkStatus --> End([æˆåŠŸåœè»Š])
    Alert --> EndAlert([ç®¡ç†å“¡å¯©æŸ¥])
```

---

### ğŸ›œ è»Šä½é ç´„ç³»çµ±

* æä¾›å­¸ç”Ÿèˆ‡æ•™è·å“¡æå‰é ç´„è»Šä½
* app / web å³æ™‚é¡¯ç¤ºå‰©é¤˜è»Šä½
* å¯è¨­å®šä¿ç•™æ™‚é–“ï¼Œè‹¥è¶…æ™‚æœªå…¥å ´å‰‡å–æ¶ˆ
* æ”¯æ´è‡¨åœèˆ‡é•·æœŸé…é¡è»Šä½
* æµç¨‹ï¼šé¸è»Šä½ â†’ è¨­å®šæ™‚é–“ â†’ QR å…¥å ´é©—è­‰

```mermaid
sequenceDiagram
User ->> Web/App: é¸æ“‡æ—¥æœŸèˆ‡åœè»Šä½
Web/App ->> Backend: å»ºç«‹é ç´„
Backend ->> DB: ç´€éŒ„é ç´„è³‡è¨Š
Car ->> Gate: æŠµé”æ ¡åœ’
Gate ->> Backend: é©—è­‰é ç´„
Backend -->> Gate: æ”¾è¡Œ / é§å›
```

---

### ğŸ« QR Code è¨ªå®¢é©—è­‰

* è¨ªå®¢å¯ç·šä¸Šç”³è«‹åœè»Šé€šè¡Œè­‰
* ç®¡ç†å“¡å¯©æ ¸å¾Œç°½ç™¼ QR Code
* å…¥å ´æ™‚æƒæ QR è‡ªå‹•è¾¨è­˜
* è»Šç‰Œä¸åœ¨ç³»çµ±ä¹Ÿèƒ½é€šè¡Œ

è³‡æ–™è¡¨æ–°å¢ï¼šVisitorPass

| æ¬„ä½        | èªªæ˜                        |
| --------- | ------------------------- |
| passID    | è¨ªå®¢æ†‘è­‰ ID PK                |
| name      | è¨ªå®¢å§“å                      |
| plate     | è»Šç‰Œæˆ–æš«ç„¡                     |
| validTime | æœ‰æ•ˆæ™‚é–“                      |
| QRToken   | ä¸€æ¬¡æ€§ QR äº‚ç¢¼                 |
| status    | pending / approved / used |

---

### ğŸ” å½±åƒé•è¦è’è­‰ (ä½”ç”¨èº«éšœè»Šä½)

* AI åµæ¸¬ç‰¹å®šæ¨™ç·šèˆ‡æ¨™èªŒ
* è»Šè¼›åœå…¥å¾Œæ¯”å°è»Šä¸»èº«ä»½æ˜¯å¦ç¬¦åˆè³‡æ ¼
* é•è¦è‡ªå‹•æˆªåœ–ã€ä¸Šå‚³è­‰æ“šä¸¦é€šçŸ¥ç®¡ç†å“¡

é•è¦åˆ¤æ–·é‚è¼¯ï¼š
1ï¸âƒ£ å½±åƒè¾¨è­˜ç¢ºèªåœè»Šæ ¼å±¬æ€§ï¼ˆèº«éšœ / é›»å‹• / æ•™è·å“¡å°ˆç”¨ï¼‰
2ï¸âƒ£ è¾¨è­˜è»Šç‰Œ â†’ æŸ¥æ¬Šé™
3ï¸âƒ£ è‹¥ä¸ç¬¦è³‡æ ¼ â†’ è¨˜éŒ„é•è¦
4ï¸âƒ£ ç®¡ç†å“¡å¯©æŸ¥å¾ŒåŒ¯å‡º PDF å ±å‘Šï¼ˆå«é•è¦è­‰æ“šï¼‰

```mermaid
flowchart TD
    Cam[åœè»Šä½æ”å½±æ©Ÿ] --> AI[AI å€åŸŸåˆ¤æ–·]
    AI --> Check{æ˜¯å¦å…·åœè»Šè³‡æ ¼?}
    Check -- å¦ --> Log[æˆªåœ–ã€ç´€éŒ„é•è¦]
    Log --> Notify[é€šçŸ¥ç®¡ç†å“¡]
    Check -- æ˜¯ --> OK[åˆæ³•åœè»Š]
```

---

## ğŸ§­ æ›´å¤šæµç¨‹èˆ‡æ¶æ§‹åœ–

---

### ğŸ”¹ è»Šä½é ç´„è©³ç´°æµç¨‹åœ–ï¼ˆä½¿ç”¨è€…è¦–è§’ï¼‰

```mermaid
sequenceDiagram
    participant U as ä½¿ç”¨è€…
    participant App as Web/App
    participant BE as Backend
    participant DB as Database
    participant Gate as é–˜é–€

    U ->> App: æŸ¥è©¢å‰©é¤˜è»Šä½
    App ->> BE: è«‹æ±‚è»Šä½ç‹€æ…‹
    BE ->> DB: è®€å–è»Šä½è³‡è¨Š
    DB -->> BE: è»Šä½ç‹€æ…‹å›å‚³
    BE -->> App: é¡¯ç¤ºå¯é ç´„è»Šä½

    U ->> App: é ç´„åœè»Šä½
    App ->> BE: æäº¤é ç´„
    BE ->> DB: å„²å­˜é ç´„ç´€éŒ„
    DB -->> BE: å›å‚³æˆåŠŸ
    BE -->> U: é¡¯ç¤º QR/é€šçŸ¥æé†’

    U ->> Gate: æŠµé”æ ¡åœ’æƒæQR
    Gate ->> BE: é©—è­‰é ç´„è³‡è¨Š
    BE ->> DB: æŸ¥è©¢é ç´„ç‹€æ…‹
    DB -->> BE: é©—è­‰é€šé
    BE -->> Gate: é–‹é–˜æ”¾è¡Œ
```

---

### ğŸ”¹ QR è¨ªå®¢é©—è­‰å¯©æ ¸æµç¨‹

```mermaid
flowchart TD
    A[è¨ªå®¢æäº¤ç”³è«‹] --> B[ç®¡ç†å¾Œå°å¯©æ ¸]
    B -->|æ ¸å‡†| C[ç”¢ç”Ÿ QR Code]
    B -->|é§å›| D[é€šçŸ¥è¨ªå®¢å¤±æ•ˆ]

    C --> E[è¨ªå®¢æŠµé”æ ¡é–€]
    E --> F[QR æƒæ]
    F --> G{æ˜¯å¦æœ‰æ•ˆ?}
    G -->|æ˜¯| H[é–‹é–˜é€šè¡Œ]
    G -->|å¦| I[æ‹’çµ•é€²å…¥ä¸¦é€šçŸ¥ç®¡ç†å“¡]
```

---

### ğŸ”¹ é•è¦è’è­‰å¯©æŸ¥æµç¨‹ï¼ˆç®¡ç†ç«¯è¦–è§’ï¼‰

```mermaid
flowchart LR
    Cam[AI åµæ¸¬é•è¦] --> Log[å­˜è­‰ç…§ç‰‡ + è»Šç‰Œ]
    Log --> Notify[é€šçŸ¥ç®¡ç†å“¡å¯©æŸ¥]
    Notify --> Check{æ˜¯å¦æˆç«‹é•è¦?}
    Check -->|æ˜¯| Report[è¼¸å‡ºé•è¦å ±å‘Š]
    Check -->|å¦| Close[æ¡ˆä»¶çµæ¡ˆ]
```

---

### ğŸ§± ç³»çµ±éƒ¨ç½²æ¶æ§‹åœ–ï¼ˆå« IoT èˆ‡é›²ç«¯ï¼‰

```mermaid
flowchart TB
    CamAI[AI åµæ¸¬æ”å½±æ©Ÿ/é‚Šç·£é‹ç®—] -->|è¾¨è­˜çµæœ| APIServer[Backend API Server]
    Sensor[å£“åŠ›/è¶…éŸ³æ³¢æ„Ÿæ¸¬å™¨] --> APIServer
    App[æ‰‹æ©Ÿ App / Web] <-->|REST/HTTPS| APIServer
    Admin[ç®¡ç†å¾Œå°] <-->|RBAC| APIServer
    APIServer --> DB[(SQL/Redis)]
    APIServer --> Notify[LINE / Email é€šçŸ¥]
    APIServer --> Gate[é–˜é–€æ§åˆ¶è£ç½®]
```

